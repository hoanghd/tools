<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JS</title>
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/underscore/underscore-min.js"></script>
<script src="js/backbone-min.js"></script>
<script src="js/backbone.validation/dist/backbone-validation-min.js"></script>
<script src="js/backbone-deep-model/distribution/deep-model.min.js"></script>
<script src="js/backbone.stickit/backbone.stickit.js"></script>
<script src="js/overwrite.js"></script>
</head>
<body>
<div id="content"></div>
<div id="content1"></div>
<script  type="text/template" id="GridView">
<table class="table table-hover">
    <tr>
        <% _.each( columns, function( column ){ %>
			<th class="item-<%= column.name %>">
				<a href="<%=_.utils().makeUrl('current', {sort: column.name, type:((_.utils().query().sort == column.name) && (_.utils().query().type == 'asc')) ? 'desc' : 'asc'})%>"><%=column.header%>
					<% if(_.utils().query().sort == column.name) {%><i class="fa fa-fw fa-sort-<%=((_.utils().query().type == 'asc')?'desc':'asc')%>"></i><%}%>
				</a>
			</th>
          <% }) %>
        <% _.each( actions, function( action ){ %>
            <th nowrap="nowrap"><%=action.header%></th>
        <% }) %>
    </tr>
    <% if( rows && rows.length>0 ){ %>
        <% _.each( rows, function( row, index ){ %>
            <tr>
               <% _.each( columns, function( column ){ %>
                  <% if(!_.isEmpty( column.template )){%>
                    <td><%= (_.template(column.template))({'row': row, 'value': (_.utils().get((column.populate || column.name), row) || '')})%>
                  <% } else { %>
                    <td><%= (_.utils().get((column.populate || column.name), row) || '') %></td>
                  <% } %>
               <% }) %>
               <% _.each(actions, function( action ){ %>
                    <td nowrap="nowrap"><%= (_.template( action.template ))( row ) %></td>
               <% }) %>
            </tr>
        <% }) %>
    <% } else { %>
    <tr>
       <td colspan="<%=(columns.length + actions.length)%>">No data found</td>
    </tr>
    <% } %>
  </table>
  <% if (pageCount > 1) { %>
    <ul class="pagination pagination-sm no-margin pull-right">
        <% if (currentPage > 1) { %>
            <li><a href="<%=_.utils().makeUrl('current', {page: 1})%>">&laquo;</a></li>
        <% } %>
        <% var i = 1;
        if (currentPage > 5) {
            i = +currentPage - 4;
        } %>
        <% if (i !== 1) { %>
            <li class="disabled"><a href="javascript:void(0);">...</a></li>
        <% } %>
        <% for (i; i<=pageCount; i++) { %>
            <% if (currentPage == i) { %>
                <li class="active"><span><%= i %></span></li>
            <% } else { %>
                <li><a href="<%=_.utils().makeUrl('current', {page: i})%>"><%= i %></a></li>
            <% } %>
            <% if (i == (+currentPage + 4)) { %>
                <li class="disabled"><a href="javascript:void(0);">...</a></li>
            <% break; } %>
        <% } %>
        <% if (currentPage != pageCount) { %>
            <li><a href="<%=_.utils().makeUrl('current', {page: pageCount})%>">&raquo;</a></li>
        <% } %>
    </ul>
<% } %>
</script>
<script type="text/template" id="Preview">
<%=_.utils().listView({
          rows: [
            {id:1, name:'Monotonectally procras 1', test: {first:"Hoang1", last:"Hoa4"}},
            {id:2, name:'Monotonectally procras 2', test: {first:"Hoang2", last:"Hoa5"}},
            {id:3, name:'Monotonectally procras 3', test: {first:"Hoang3", last:"Hoa6"}},
            {id:4, name:'Monotonectally procras 4', test: {first:"Hoang4", last:"Hoa7"}},
            {id:5, name:'Monotonectally procras 5', test: {first:"Hoang5", last:"Hoa9"}}
          ], 
          total: 100,
          limit: 10,
		  page: (_.utils().query().page || 1)
      }, 
	  [
        {name: 'id', header: 'ID'},
        {name: 'name', header: 'Name', populate:'test.first|date:"parameter1":"parameter2"'}
      ], 
	  {}, 
	  {template: '#GridView'}
)%>
	  
    <ul class="ope-link-list">
       <h2>Edit your details</h2> 
    <ul> 
    <li><label for="name">Name</label><%=_.form().textfield('name')%></li> 
    <li><label for="email">Email</label><input id="email" name="email" type="text"></li> 
    <li><label for="street">Street</label><input id="street" name="street" type="text"></li> 
    <li><label for="zip">ZIP</label><input id="zip" name="zip" type="text"></li> 
    <li><label for="city">City</label><input id="city" name="city" type="text"></li> 
    <li><label for="country">Country</label><input id="country" name="country" type="text"></li> 
    <li><label for="phone">Phone</label><input id="phone" name="phone" type="text"></li> 
    <li><label for="phone">Web</label><input id="web" name="web" type="text"></li> 
	<li><label for="phone">Checkbox</label><input type="checkbox" class="checkbox" name="checkbox[]" value="1"><input type="checkbox" class="checkbox" name="checkbox[]" value="2"></li> 
	<li><label for="phone">Radio</label><input type="radio" class="radio" name="radio" value="1"><input type="radio" class="radio" name="radio" value="2"></li> 
	<li><label for="phone">Gender</label><select id="gender" name="gender"><option value="male">male</option><option value="Nu">Nu</option></select></li> 
   </ul>
    </ul>
	<br/>
</script>
<script type="text/template" id="Preview1">
   <%=(model.isValid(true) ? 'T' : 'F')%><br/>
	<%=data.name.first%><br/>
	<%=data.checkbox.join('-')%><br/>
	<%=JSON.stringify(data.otherSpies)%>
</script>

<script type="text/template" id="PreviewLi">
   <%=_.form().textfield('name', '', {class:'name'})%>
</script>

<script src="js/main.js"></script>
</body>
</html>
